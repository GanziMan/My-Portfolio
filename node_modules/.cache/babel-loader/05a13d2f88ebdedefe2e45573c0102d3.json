{"ast":null,"code":"import * as React from 'react';\nimport { Animated, Easing, Platform, StyleSheet } from 'react-native';\nimport * as SVG from 'react-native-svg';\nimport { useActive, useHover } from 'react-native-web-hooks';\nimport { TouchableOpacity } from './Elements';\nconst width = 70;\nconst circleWidth = 27;\nconst sideOffset = 5;\nconst transitionTime = 200;\nexport default function Switch(_ref) {\n  let {\n    onChange,\n    style,\n    value,\n    ...props\n  } = _ref;\n  const onValueChange = React.useCallback(() => onChange(!value), [onChange]);\n  return React.createElement(TouchableOpacity, {\n    accessibilityRole: \"button\",\n    tabIndex: 0,\n    activeOpacity: 1.0,\n    ...props,\n    ...onEnterAndClick(onValueChange),\n    style: [styles.wrapper, style]\n  }, React.createElement(DayNightSwitch, {\n    isClicked: value\n  }));\n}\n\nconst createAnimatedValue = isOn => React.useRef(new Animated.Value(isOn ? 1 : 0));\n\nconst MoonIcon = _ref2 => {\n  let {\n    isClicked,\n    ...props\n  } = _ref2;\n  const value = createAnimatedValue(isClicked);\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: transitionTime,\n      useNativeDriver: false,\n      easing: Easing.inOut(Easing.linear)\n    }).start();\n  }, [isClicked]);\n  return React.createElement(Animated.View, {\n    style: [styles.moonSvg, {\n      opacity: value.current,\n      transform: [{\n        translateY: value.current.interpolate({\n          inputRange: [0, 1],\n          outputRange: [30, 0]\n        })\n      }]\n    }, props.style]\n  }, React.createElement(SVG.Svg, {\n    pointerEvents: \"none\",\n    ...props,\n    style: [styles.moonSvg, props.style],\n    viewBox: \"0 0 30 32\"\n  }, React.createElement(SVG.Path, {\n    fill: \"white\",\n    d: \"M22.592 21.504q3.36 0 6.56-1.792-1.344 4.64-5.184 7.616t-8.8 2.976q-6.016 0-10.304-4.288t-4.288-10.336q0-4.928 2.976-8.768t7.584-5.216q-1.792 3.2-1.792 6.56 0 5.504 3.904 9.376t9.344 3.872z\"\n  })));\n};\n\nconst onEnterAndClick = cb => {\n  return {\n    // onClick: cb,\n    onPress: cb,\n    onKeyPress: e => {\n      if (e.which === 13 || e.which === 32) {\n        cb && cb(e);\n      }\n    }\n  };\n};\n\nconst DayNightSwitch = _ref3 => {\n  let {\n    isClicked\n  } = _ref3;\n  const ref = React.useRef(null);\n  const isHovered = useHover(ref);\n  const isActive = useActive(ref);\n  const value = createAnimatedValue(isClicked);\n  const scaleValue = React.useRef(new Animated.Value(1));\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: transitionTime,\n      useNativeDriver: false\n    }).start();\n  }, [isHovered, isClicked]);\n  React.useEffect(() => {\n    Animated.timing(scaleValue.current, {\n      toValue: isActive ? 1.03 : isHovered ? 1.05 : 1,\n      duration: transitionTime,\n      useNativeDriver: false\n    }).start();\n  }, [isActive, isHovered]);\n  const backgroundColor = isHovered ? isClicked ? '#5559cc' : '#79bfc3' : value.current.interpolate({\n    inputRange: [0, 1],\n    outputRange: ['#80c7cb', '#595dde']\n  });\n  return React.createElement(Animated.View, {\n    ref: ref,\n    style: [styles.dayNightSwitch, {\n      backgroundColor,\n      transform: [{\n        scale: scaleValue.current\n      }]\n    }]\n  }, React.createElement(Stars, {\n    isClicked: isClicked\n  }), React.createElement(Circle, {\n    isClicked: isClicked\n  }));\n};\n\nconst Star = _ref4 => {\n  let {\n    size = 3,\n    x,\n    y,\n    index,\n    isClicked,\n    ...props\n  } = _ref4;\n  const value = createAnimatedValue(isClicked);\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: 50 * index,\n      useNativeDriver: false\n    }).start();\n  }, [isClicked]);\n  return React.createElement(Animated.View, { ...props,\n    style: [styles.star, {\n      width: size,\n      height: size,\n      top: 8 + y,\n      left: 8 + x,\n      opacity: value.current,\n      transform: [{\n        translateY: value.current.interpolate({\n          inputRange: [0, 1],\n          outputRange: [10, 0]\n        })\n      }]\n    }, props.style]\n  });\n};\n\nconst Stars = _ref5 => {\n  let {\n    isClicked,\n    ...props\n  } = _ref5;\n  const value = createAnimatedValue(isClicked);\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: transitionTime,\n      useNativeDriver: false\n    }).start();\n  }, [isClicked]);\n  return React.createElement(Animated.View, { ...props,\n    style: [{\n      transform: [{\n        translateY: circleWidth * -0.75\n      }],\n      opacity: value.current\n    }, props.style]\n  }, props.children, React.createElement(Star, {\n    isClicked: isClicked,\n    index: 1,\n    size: 2,\n    x: 10,\n    y: 3\n  }), React.createElement(Star, {\n    isClicked: isClicked,\n    index: 2,\n    size: 1,\n    x: 3,\n    y: 7\n  }), React.createElement(Star, {\n    isClicked: isClicked,\n    index: 3,\n    size: 1,\n    x: 12,\n    y: 18\n  }), React.createElement(Star, {\n    isClicked: isClicked,\n    index: 4,\n    size: 1,\n    x: 15,\n    y: 10\n  }), React.createElement(Star, {\n    isClicked: isClicked,\n    index: 5,\n    size: 1,\n    x: 19,\n    y: 4\n  }), React.createElement(Star, {\n    isClicked: isClicked,\n    index: 6,\n    size: 2,\n    x: 22,\n    y: 14\n  }));\n};\n\nconst Circle = _ref6 => {\n  let {\n    isClicked,\n    ...props\n  } = _ref6;\n  const ref = React.useRef(null);\n  const value = createAnimatedValue(isClicked);\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: transitionTime,\n      useNativeDriver: false\n    }).start();\n  }, [isClicked]);\n  const isHovered = useHover(ref); // const translateX = isClicked ? width - circleWidth - sideOffset : sideOffset;\n\n  const backgroundColor = isClicked ? `rgba(255,255,255,${isHovered ? '0.3' : '0.4'})` : isHovered ? '#fff0bb' : '#fddf75';\n  const borderColor = isClicked ? 'rgba(255,255,255,0.9)' : '#d6b05eb5';\n  return React.createElement(Animated.View, { ...props,\n    ref: ref,\n    style: [styles.circle, {\n      borderWidth: value.current.interpolate({\n        inputRange: [0, 1],\n        outputRange: [3, 2]\n      }),\n      borderColor,\n      backgroundColor,\n      transform: [{\n        translateX: value.current.interpolate({\n          inputRange: [0, 1],\n          outputRange: [sideOffset, width - circleWidth - sideOffset]\n        })\n      }]\n    }, props.style]\n  }, React.createElement(MoonIcon, {\n    isClicked: isClicked\n  }));\n};\n\nfunction webStyle(style) {\n  return Platform.select({\n    web: style,\n    default: {}\n  });\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    borderRadius: 17,\n    overflow: 'hidden',\n    ...webStyle({\n      willChange: 'transform'\n    })\n  },\n  dayNightSwitch: { ...webStyle({\n      cursor: 'pointer'\n    }),\n    flexDirection: 'row',\n    alignItems: 'center',\n    height: 35,\n    width,\n    borderRadius: 17\n  },\n  star: {\n    // @ts-ignore: borderRadius cannot be string on native\n    borderRadius: Platform.select({\n      web: '100%',\n      default: 17\n    }),\n    backgroundColor: 'white',\n    position: 'absolute'\n  },\n  circle: {\n    borderRadius: 17,\n    ...webStyle({\n      cursor: 'pointer',\n      borderRadius: '100%'\n    }),\n    width: circleWidth,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 27,\n    overflow: 'hidden',\n    borderStyle: 'solid'\n  },\n  moonSvg: { ...webStyle({\n      userSelect: 'none'\n    }),\n    position: 'absolute',\n    width: 13,\n    height: 13,\n    opacity: 1\n  }\n});","map":{"version":3,"sources":["/Users/gimbeomsu/my-app/node_modules/expo-dark-mode-switch/src/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Animated, Easing, Platform, StyleSheet } from 'react-native';\nimport * as SVG from 'react-native-svg';\nimport { useActive, useHover } from 'react-native-web-hooks';\n\nimport { TouchableOpacity } from './Elements';\n\nconst width = 70;\nconst circleWidth = 27;\nconst sideOffset = 5;\nconst transitionTime = 200;\n\nexport type Props = React.ComponentProps<typeof TouchableOpacity> & {\n  onChange: (value: boolean) => void;\n  value: boolean;\n};\n\nexport default function Switch({ onChange, style, value, ...props }: Props) {\n  const onValueChange = React.useCallback(() => onChange(!value), [onChange]);\n  return (\n    <TouchableOpacity\n      accessibilityRole=\"button\"\n      tabIndex={0}\n      activeOpacity={1.0}\n      {...props}\n      {...onEnterAndClick(onValueChange)}\n      style={[styles.wrapper, style]}\n    >\n      <DayNightSwitch isClicked={value} />\n    </TouchableOpacity>\n  );\n}\n\nconst createAnimatedValue = (isOn: boolean) =>\n  React.useRef(new Animated.Value(isOn ? 1 : 0));\n\nconst MoonIcon = ({ isClicked, ...props }) => {\n  const value = createAnimatedValue(isClicked);\n\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: transitionTime,\n      useNativeDriver: false,\n      easing: Easing.inOut(Easing.linear)\n    }).start();\n  }, [isClicked]);\n\n  return (\n    <Animated.View\n      style={[\n        styles.moonSvg,\n        {\n          opacity: value.current,\n          transform: [\n            {\n              translateY: value.current.interpolate({\n                inputRange: [0, 1],\n                outputRange: [30, 0],\n              }),\n            },\n          ],\n        },\n        props.style,\n      ]}\n    >\n      <SVG.Svg\n        pointerEvents=\"none\"\n        {...props}\n        style={[styles.moonSvg, props.style]}\n        viewBox=\"0 0 30 32\"\n      >\n        <SVG.Path\n          fill=\"white\"\n          d=\"M22.592 21.504q3.36 0 6.56-1.792-1.344 4.64-5.184 7.616t-8.8 2.976q-6.016 0-10.304-4.288t-4.288-10.336q0-4.928 2.976-8.768t7.584-5.216q-1.792 3.2-1.792 6.56 0 5.504 3.904 9.376t9.344 3.872z\"\n        />\n      </SVG.Svg>\n    </Animated.View>\n  );\n};\n\nconst onEnterAndClick = cb => {\n  return {\n    // onClick: cb,\n    onPress: cb,\n    onKeyPress: e => {\n      if (e.which === 13 || e.which === 32) {\n        cb && cb(e);\n      }\n    },\n  };\n};\n\nconst DayNightSwitch = ({ isClicked }) => {\n  const ref = React.useRef(null);\n  const isHovered = useHover(ref);\n  const isActive = useActive(ref);\n\n  const value = createAnimatedValue(isClicked);\n  const scaleValue = React.useRef(new Animated.Value(1));\n\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: transitionTime,\n      useNativeDriver: false\n    }).start();\n  }, [isHovered, isClicked]);\n\n  React.useEffect(() => {\n    Animated.timing(scaleValue.current, {\n      toValue: isActive ? 1.03 : isHovered ? 1.05 : 1,\n      duration: transitionTime,\n      useNativeDriver: false\n    }).start();\n  }, [isActive, isHovered]);\n\n  const backgroundColor = isHovered\n    ? isClicked\n      ? '#5559cc'\n      : '#79bfc3'\n    : value.current.interpolate({\n      inputRange: [0, 1],\n      outputRange: ['#80c7cb', '#595dde'],\n    });\n\n  return (\n    <Animated.View\n      ref={ref}\n      style={[\n        styles.dayNightSwitch,\n        {\n          backgroundColor,\n          transform: [{ scale: scaleValue.current }],\n        },\n      ]}\n    >\n      <Stars isClicked={isClicked} />\n      <Circle isClicked={isClicked} />\n    </Animated.View>\n  );\n};\n\nconst Star = ({ size = 3, x, y, index, isClicked, ...props }) => {\n  const value = createAnimatedValue(isClicked);\n\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: 50 * index,\n      useNativeDriver: false\n    }).start();\n  }, [isClicked]);\n\n  return (\n    <Animated.View\n      {...props}\n      style={[\n        styles.star,\n        {\n          width: size,\n          height: size,\n          top: 8 + y,\n          left: 8 + x,\n          opacity: value.current,\n          transform: [\n            {\n              translateY: value.current.interpolate({\n                inputRange: [0, 1],\n                outputRange: [10, 0],\n              }),\n            },\n          ],\n        },\n        props.style,\n      ]}\n    />\n  );\n};\n\nconst Stars = ({ isClicked, ...props }) => {\n  const value = createAnimatedValue(isClicked);\n\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: transitionTime,\n      useNativeDriver: false\n    }).start();\n  }, [isClicked]);\n\n  return (\n    <Animated.View\n      {...props}\n      style={[\n        {\n          transform: [{ translateY: circleWidth * -0.75 }],\n          opacity: value.current,\n        },\n        props.style,\n      ]}\n    >\n      {props.children}\n      <Star isClicked={isClicked} index={1} size={2} x={10} y={3} />\n      <Star isClicked={isClicked} index={2} size={1} x={3} y={7} />\n      <Star isClicked={isClicked} index={3} size={1} x={12} y={18} />\n      <Star isClicked={isClicked} index={4} size={1} x={15} y={10} />\n      <Star isClicked={isClicked} index={5} size={1} x={19} y={4} />\n      <Star isClicked={isClicked} index={6} size={2} x={22} y={14} />\n    </Animated.View>\n  );\n};\n\nconst Circle = ({ isClicked, ...props }) => {\n  const ref = React.useRef(null);\n\n  const value = createAnimatedValue(isClicked);\n\n  React.useEffect(() => {\n    Animated.timing(value.current, {\n      toValue: isClicked ? 1 : 0,\n      duration: transitionTime,\n      useNativeDriver: false\n    }).start();\n  }, [isClicked]);\n\n  const isHovered = useHover(ref);\n\n  // const translateX = isClicked ? width - circleWidth - sideOffset : sideOffset;\n  const backgroundColor = isClicked\n    ? `rgba(255,255,255,${isHovered ? '0.3' : '0.4'})`\n    : isHovered\n      ? '#fff0bb'\n      : '#fddf75';\n  const borderColor = isClicked ? 'rgba(255,255,255,0.9)' : '#d6b05eb5';\n\n  return (\n    <Animated.View\n      {...props}\n      ref={ref}\n      style={[\n        styles.circle,\n        {\n          borderWidth: value.current.interpolate({\n            inputRange: [0, 1],\n            outputRange: [3, 2],\n          }),\n          borderColor,\n          backgroundColor,\n          transform: [\n            {\n              translateX: value.current.interpolate({\n                inputRange: [0, 1],\n                outputRange: [sideOffset, width - circleWidth - sideOffset],\n              }),\n            },\n          ],\n        },\n        props.style,\n      ]}\n    >\n      <MoonIcon isClicked={isClicked} />\n    </Animated.View>\n  );\n};\n\nfunction webStyle(style) {\n  return Platform.select({ web: style, default: {} });\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    borderRadius: 17,\n    overflow: 'hidden',\n    ...webStyle({\n      willChange: 'transform',\n    }),\n  },\n  dayNightSwitch: {\n    ...webStyle({\n      cursor: 'pointer',\n    }),\n    flexDirection: 'row',\n    alignItems: 'center',\n    height: 35,\n    width,\n    borderRadius: 17,\n  },\n  star: {\n    // @ts-ignore: borderRadius cannot be string on native\n    borderRadius: Platform.select({\n      web: '100%',\n      default: 17,\n    }),\n    backgroundColor: 'white',\n    position: 'absolute',\n  },\n  circle: {\n    borderRadius: 17,\n    ...webStyle({\n      cursor: 'pointer',\n      borderRadius: '100%',\n    }),\n    width: circleWidth,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 27,\n    overflow: 'hidden',\n    borderStyle: 'solid',\n  },\n  moonSvg: {\n    ...webStyle({\n      userSelect: 'none',\n    }),\n    position: 'absolute',\n    width: 13,\n    height: 13,\n    opacity: 1,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}